(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5e8db84"],{"08af":function(t,e,n){"use strict";var a=n("9326"),s=n.n(a);s.a},"3c12":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("admin-layout",{scopedSlots:t._u([{key:"main",fn:function(){return[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("h3",{staticStyle:{float:"left","margin-bottom":"1em"}},[t._v(" 你好啊！"+t._s(t.username)+" ")])])],1),n("el-table",{attrs:{data:t.userList}},[n("el-table-column",{attrs:{label:"头像",width:"60"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("el-avatar",{attrs:{src:t.row.avatar,size:"medium"}})]}}])}),n("el-table-column",{attrs:{label:"用户名",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.username))])]}}])}),n("el-table-column",{attrs:{label:"邮箱",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.email))])]}}])}),n("el-table-column",{attrs:{label:"角色",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.roleList[e.row.role]))])]}}])}),n("el-table-column",{attrs:{label:"等级",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.level))])]}}])}),n("el-table-column",{attrs:{label:"金币",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.coin))])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v("编辑 ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.row)}}},[t._v("删除 ")])]}}])})],1)]},proxy:!0}])})],1)},s=[],r=n("7b82"),l=n("c24f"),i={name:"manageUser",components:{adminLayout:r["a"]},data:function(){return{userList:[],roleList:["超级管理员","作者","普通用户"]}},methods:{handleDelete:function(t){var e=this;console.log(t),Object(l["e"])(t._id).then((function(n){204===n.status?(e.$notify({title:"删除成功",message:t.title+"被移出了用户",type:"success"}),e.flushUserList()):e.$notify.error({title:"错误",message:"用户删除时遇到了错误"})}))},handleEdit:function(t){this.$router.push("/admin/modifyUser/"+t._id)},flushUserList:function(){var t=this;this.hackReset=!1,Object(l["b"])().then((function(e){200===e.status?t.userList=e.data:t.$notify.error({title:"错误",message:"获取用户时遇到了错误"})})),this.$nextTick((function(){t.hackReset=!0}))}},created:function(){var t=this;this.username=localStorage.userName,Object(l["b"])().then((function(e){console.log(e),200===e.status?(t.userList=e.data,console.log(t.userList)):t.$notify.error({title:"错误",message:"获取用户列表时遇到了错误"})}))}},o=i,u=(n("08af"),n("2877")),c=Object(u["a"])(o,a,s,!1,null,"f3ea3878",null);e["default"]=c.exports},"4f07":function(t,e,n){},"7b82":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:5}},[n("side-bar")],1),n("el-col",{attrs:{span:19,offset:5}},[n("el-main",[t._t("main")],2)],1)],1),n("el-footer")],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"el-menu-vertical",staticStyle:{height:"100%",position:"fixed",width:"20%"},attrs:{"default-active":"1","background-color":"#232323","text-color":"#fff",mode:"vertical","active-text-color":"#409EFF"}},[n("div",{staticStyle:{"margin-top":"2em",color:"white","font-size":"large"}},[n("font-awesome-icon",{staticStyle:{"margin-bottom":"0.15em"},attrs:{icon:"laptop-code"}}),n("label",{staticStyle:{"font-size":"24px","margin-left":".5em"}},[t._v("控制台")])],1),n("el-menu-item",{staticStyle:{"margin-top":"2em"},attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-reading"}),n("router-link",{attrs:{to:"/admin/manageArticle"}},[t._v(" 文章管理 ")])],1)],2),n("el-menu-item",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-news"}),n("span",[t._v("公告管理")])])],2),n("el-menu-item",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-management"}),n("span",[t._v("资源管理")])])],2),n("el-menu-item",{attrs:{index:"4"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-chat-dot-round"}),n("span",[t._v("票圈管理")])])],2),n("el-menu-item",{attrs:{index:"5"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-custom"}),n("router-link",{attrs:{to:"/admin/manageUser"}},[t._v(" 用户管理 ")])],1)],2),n("el-menu-item",{attrs:{index:"6"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-house"}),n("router-link",{attrs:{to:"/article"}},[t._v(" 返回首页 ")])],1)],2)],1)},l=[],i={name:"sideBar"},o=i,u=(n("7c9e"),n("2877")),c=Object(u["a"])(o,r,l,!1,null,"75448099",null),f=c.exports,m={name:"adminLayout",components:{sideBar:f}},d=m,p=(n("c00e"),Object(u["a"])(d,a,s,!1,null,"70ad1c07",null));e["a"]=p.exports},"7c9e":function(t,e,n){"use strict";var a=n("4f07"),s=n.n(a);s.a},9326:function(t,e,n){},c00e:function(t,e,n){"use strict";var a=n("eb76"),s=n.n(a);s.a},c24f:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return f}));var a=n("365c"),s={userBase:"/user",userName:"/user/username"};function r(t){return Object(a["a"])({url:s.userName+"/"+t,method:"get"})}function l(t){return Object(a["a"])({url:s.userBase+"/"+t,method:"get"})}function i(){return Object(a["a"])({url:s.userBase+"/all",method:"get"})}function o(){return Object(a["a"])({url:s.userBase+"/allUserInfo",method:"get"})}function u(t){return Object(a["a"])({url:s.userBase+"/"+t,method:"delete"})}function c(t){return Object(a["a"])({url:s.userBase,method:"post",data:t})}function f(t,e){return Object(a["a"])({url:s.userName+"/"+t,method:"put",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},eb76:function(t,e,n){}}]);
//# sourceMappingURL=chunk-e5e8db84.139aa594.js.map